{"ast":null,"code":"import Cookie from 'js-cookie';\nconst storage = {}; // Safari in incognito has local storage, but size 0\n// This system falls back to cookies in that situation\n\ntry {\n  if (!window.localStorage) {\n    throw Error('no local storage');\n  } // Setup simple local storage wrapper\n\n\n  storage.set = (key, value) => localStorage.setItem(key, JSON.stringify(value));\n\n  storage.get = key => {\n    const item = localStorage.getItem(key);\n\n    try {\n      return JSON.parse(item);\n    } catch (e) {\n      return null;\n    }\n  };\n\n  storage.remove = key => localStorage.removeItem(key);\n} catch (e) {\n  storage.set = Cookie.set;\n  storage.get = Cookie.getJSON;\n  storage.remove = Cookie.remove;\n}\n\nexport default storage;","map":{"version":3,"sources":["/home/jobtkk/sougou-kanri2/client/src/Components/utils/storage.js"],"names":["Cookie","storage","window","localStorage","Error","set","key","value","setItem","JSON","stringify","get","item","getItem","parse","e","remove","removeItem","getJSON"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,WAAnB;AAEA,MAAMC,OAAO,GAAG,EAAhB,C,CAEA;AACA;;AACA,IAAI;AACF,MAAI,CAACC,MAAM,CAACC,YAAZ,EAA0B;AACxB,UAAMC,KAAK,CAAC,kBAAD,CAAX;AACD,GAHC,CAKF;;;AACAH,EAAAA,OAAO,CAACI,GAAR,GAAc,CAACC,GAAD,EAAMC,KAAN,KAAgBJ,YAAY,CAACK,OAAb,CAAqBF,GAArB,EAA0BG,IAAI,CAACC,SAAL,CAAeH,KAAf,CAA1B,CAA9B;;AACAN,EAAAA,OAAO,CAACU,GAAR,GAAeL,GAAD,IAAS;AACrB,UAAMM,IAAI,GAAGT,YAAY,CAACU,OAAb,CAAqBP,GAArB,CAAb;;AACA,QAAI;AACF,aAAOG,IAAI,CAACK,KAAL,CAAWF,IAAX,CAAP;AACD,KAFD,CAEE,OAAOG,CAAP,EAAU;AACV,aAAO,IAAP;AACD;AACF,GAPD;;AAQAd,EAAAA,OAAO,CAACe,MAAR,GAAiBV,GAAG,IAAIH,YAAY,CAACc,UAAb,CAAwBX,GAAxB,CAAxB;AACD,CAhBD,CAgBE,OAAOS,CAAP,EAAU;AACVd,EAAAA,OAAO,CAACI,GAAR,GAAcL,MAAM,CAACK,GAArB;AACAJ,EAAAA,OAAO,CAACU,GAAR,GAAcX,MAAM,CAACkB,OAArB;AACAjB,EAAAA,OAAO,CAACe,MAAR,GAAiBhB,MAAM,CAACgB,MAAxB;AACD;;AAED,eAAef,OAAf","sourcesContent":["import Cookie from 'js-cookie';\n\nconst storage = {};\n\n// Safari in incognito has local storage, but size 0\n// This system falls back to cookies in that situation\ntry {\n  if (!window.localStorage) {\n    throw Error('no local storage');\n  }\n\n  // Setup simple local storage wrapper\n  storage.set = (key, value) => localStorage.setItem(key, JSON.stringify(value));\n  storage.get = (key) => {\n    const item = localStorage.getItem(key);\n    try {\n      return JSON.parse(item);\n    } catch (e) {\n      return null;\n    }\n  };\n  storage.remove = key => localStorage.removeItem(key);\n} catch (e) {\n  storage.set = Cookie.set;\n  storage.get = Cookie.getJSON;\n  storage.remove = Cookie.remove;\n}\n\nexport default storage;\n"]},"metadata":{},"sourceType":"module"}